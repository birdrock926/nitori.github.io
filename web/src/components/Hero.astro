---
import type { Post } from '@lib/strapi';
const { featured, secondary } = Astro.props as { featured: Post; secondary: Post[] };
---
<section class="card" style="display: grid; gap: 2rem;">
  <div style="display: grid; gap: 1rem;">
    <p class="tag-chip">注目トピック</p>
    <h1 style="font-size: clamp(2rem, 4vw, 2.5rem); margin: 0;">{featured.title}</h1>
    <p class="muted" style="margin: 0;">{featured.summary}</p>
    <a class="tag-chip" href={`/posts/${featured.slug}/`} aria-label={`記事「${featured.title}」へ移動`}>
      記事を読む
    </a>
  </div>
  <div class="grid posts" aria-label="セカンドニュース">
    {secondary.map((post) => (
      <article class="card" style="gap: 0.5rem;">
        <h2 style="font-size: 1.25rem; margin: 0;"><a href={`/posts/${post.slug}/`}>{post.title}</a></h2>
        <p class="muted" style="margin: 0;">{post.summary}</p>
        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
          {post.tags.slice(0, 3).map((tag) => (
            <a class="tag-chip" href={`/tags/${tag.slug}/`}>{tag.name}</a>
          ))}
        </div>
      </article>
    ))}
  </div>
</section>
